====================
PROMPT 1: analyze_blind_spots_prompt
====================
# Test False Negative Root Cause Analysis Framework

## Core Principle
In projects with good test coverage, new bugs often indicate **test false negatives**: related tests pass even though behavior is incorrect. This mismatch helps pinpoint where production code violates requirements that tests fail to encode.

## Task Description
**Issue Description**:
{problem_statement}

**Related Test Functions and Coverage Information**:
{test_functions}

## Objective
Explain why the related tests can pass (false negatives), and infer which requirement/assumption is missing. Focus on locating **problematic production code** (not test code changes).

## Analysis Requirements
1. Identify how current assertions are insufficient or misaligned with the issue.
2. Identify test input/data assumptions that differ from the issueâ€™s trigger condition(s).
3. Describe the likely implementation assumptions that let incorrect behavior pass tests.
4. Derive actionable hints for where the production logic is wrong and how it propagates.

## Output Format Requirements
Wrap the entire output in triple backticks and follow this exact schema:

```
BLIND_SPOTS_ANALYSIS:

false_negative_mechanism:
- assertion_deviation: [difference between what tests validate vs what issue requires]
- data_assumption_defect: [gap between test inputs/conditions vs real trigger conditions]
- logic_assumption_error: [implementation assumption implied by tests that fails in reality]

root_cause_hypothesis:
- likely_root_cause_behavior: [what behavior is wrong, under what condition]
- likely_missing_requirement: [what requirement is not enforced by tests]
- propagation_summary: [how wrong behavior leads to the observed symptom]

systematic_risk_areas:
- symmetric_operation_risk: [paired/inverse operations likely to share the same blind spot]
- shared_component_risk: [shared utilities/data structures likely affected]
- similar_logic_risk: [other similar logic patterns likely to contain the same assumption]

modification_priority:
1. [Highest priority: most likely root-cause logic to inspect/fix]
2. [High priority: critical dependent logic that must stay consistent]
3. [Medium priority: preventive checks for symmetric/shared areas]
```

====================
PROMPT 2: localize_suspicious_locations_prompt
====================
# Test False Negative Code Mapping Framework

## Core Principle
False negatives happen when **incorrect implementations still satisfy incomplete assertions**. Use the false-negative mechanisms to map onto concrete production code locations.

## Inputs

**Issue Description**:
{problem_statement}

**Test False Negative Analysis Results**:
{blind_spots_analysis}

**Code Locations Covered by Related Tests**:
{test_coverage_locations}

## Mapping Objective
Produce a ranked set of suspicious code locations that are likely to require modification.

## CRITICAL CONSTRAINT
You MUST ONLY reference functions/methods/classes that appear in **Code Locations Covered by Related Tests**.
If the issue strongly points to code not in the coverage list, write:
- `NOT_IN_COVERAGE: ...` and explain the limitation.

## Output Format Requirements
Wrap the entire output in triple backticks and follow this exact schema:

```
FALSE_NEGATIVE_CODE_MAPPING:

direct_false_negative_sources:
- file_path::function_name [MECHANISM: assertion_deviation | data_assumption_violation | logic_assumption_error - brief reason]
- file_path::ClassName.method_name [MECHANISM: ... - brief reason]
- NOT_IN_COVERAGE: [if applicable]

assumption_propagation_risks:
- file_path::function_name [RISK: shared_utility_propagation | data_structure_propagation | symmetric_operation - brief reason]
- NOT_IN_COVERAGE: [if applicable]

systematic_risk_areas:
- file_path::function_name [PATTERN: similar_logic_pattern | untested_branches | similar_signature - brief reason]
- NOT_IN_COVERAGE: [if applicable]

modification_priority_ranking:
1. CRITICAL: [locations most likely to be the root cause; or NOT_IN_COVERAGE]
2. HIGH: [locations likely needing coordinated changes (pairs/shared state)]
3. MEDIUM: [preventive review locations]

mapping_reasoning:
- mechanism_to_code: [how the blind-spot mechanisms map to these locations]
- clustering_notes: [paired operations / shared state that should be kept consistent]
- coverage_limitations: [only if applicable]
```
